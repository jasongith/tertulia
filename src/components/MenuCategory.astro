---
import MenuItem from "./MenuItem.astro";

export interface Props {
  title: string;
  items: Array<{
    nombre: string;
    descripcion: string;
    precio: string;
  }>;
  icon: string;
}

const { title, items, icon } = Astro.props;

// Generate a unique ID for this category
const categoryId = title.toLowerCase().replace(/\s+/g, "-");
---

<section class="mb-8 animate-fade-in" id={categoryId}>
  <!-- Category Header -->
  <div
    class="bg-gradient-to-r from-amber-800 to-orange-800 rounded-2xl p-6 mb-4 shadow-lg"
  >
    <h2
      class="text-2xl md:text-3xl font-bold text-white flex items-center gap-3"
    >
      <span class="text-3xl">{icon}</span>
      {title}
    </h2>
    <div class="h-1 bg-white/30 rounded-full mt-3 w-20"></div>
  </div>

  <!-- Items Grid -->
  <div class="space-y-3">
    {
      items.map((item, index) => (
        <div
          class="opacity-0 animate-slide-up"
          style={`animation-delay: ${index * 100}ms; animation-fill-mode: forwards;`}
        >
          <MenuItem
            nombre={item.nombre}
            descripcion={item.descripcion}
            precio={item.precio}
          />
        </div>
      ))
    }
  </div>
</section>

<style>
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slide-up {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fade-in 0.6s ease-out forwards;
  }

  .animate-slide-up {
    animation: slide-up 0.5s ease-out forwards;
  }
</style>
